---
tags:
  - 
share: "true"
---

# 07 Sestavování

## Nástroje pro Sestavování Software (software Building Tools, Např. Ant, Maven, ...)

### Maven

Maven is a powerful project management and comprehension tool that provides developers with a complete build lifecycle framework. It is primarily used for Java projects.

- **Key Features:**
	- **Project Object Model (POM)**: Uses an XML file (`pom.xml`) to manage project’s build, reporting, and documentation.
	- **Dependency Management**: Automatically manages project dependencies from central repositories.
	- **Plugins and Goals**: Extensible via plugins, allowing for custom builds and behaviors.

```xml
<!-- Sample pom.xml snippet -->
<project>
    <modelVersion>4.0.0</modelVersion>
    <groupId>com.example</groupId>
    <artifactId>my-application</artifactId>
    <version>1.0</version>
</project>
```

### Gradle

Gradle is an open-source build automation tool that is designed to be flexible enough to build almost any type of software.

- **Key Features:**
    - **Groovy & Kotlin DSLs**: Allows scripting in Groovy or Kotlin for defining project configurations.
    - **Performance**: Utilizes incremental builds and caching to improve performance.
    - **Dependency Management**: Supports Maven and Ivy repositories for dependency management.

```groovy
// Sample build.gradle snippet
apply plugin: 'java'

dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-web'
}
```

### Ant

Apache Ant is a Java library and command-line tool whose mission is to drive processes described in build files as targets and extension points dependent upon each other.

- **Key Features:**
    - **Flexibility**: Highly configurable via XML build files.
    - **Extensibility**: Can be extended with Java or scripting languages.
    - **Task-based**: Focuses on pre-defined tasks to perform work.

```xml
<!-- Sample build.xml snippet -->
<project name="MyProject" default="compile">
    <target name="compile">
        <javac srcdir="src" destdir="build"/>
    </target>
</project>
```

### Make

Make is a build automation tool that automatically builds executable programs and libraries from source code by reading files called Makefiles which specify how to derive the target program.

- **Key Features:**
    - **Widely Used**: Especially in C and C++ development.
    - **Customizable**: Makefiles allow for complex custom build processes.

```makefile
# Sample Makefile snippet
myapp: main.c
    gcc -o myapp main.c
```

#### Key Concepts

- **Makefile**: A text file containing rules that tell Make how to build your program. Each rule specifies a target, dependencies, and a recipe.
- **Target**: Usually the name of a file that is generated by a program. It can also be the name of an action to carry out, such as `clean`.
- **Dependencies**: Files that must be up-to-date before the target can be generated.
- **Recipe**: Commands used to generate the target from the dependencies.

#### Basic Makefile Structure

A simple Makefile might look something like this:

```makefile
target: dependencies
    recipe
```

Here's an example that compiles a C program:

```makefile
# Define the compiler
CC=gcc

# Define any compile-time flags
CFLAGS=-Wall -g

# Define the target executable
TARGET=myapp

# Define the source files
SOURCES=main.c utils.c

# Define the rule for building the target
$(TARGET): $(SOURCES)
    $(CC) $(CFLAGS) -o $(TARGET) $(SOURCES)

# Define a clean rule
clean:
    rm -f $(TARGET)
```

#### Advantages of Using Make

- **Efficiency**: Make only recompiles source files that have changed since the last build, making the build process faster.
- **Modularity**: Makefiles can be written to compile different parts of a project separately, improving organization and manageability.
- **Portability**: Makefiles can be used across different platforms and environments, making it easier to compile projects in varied development setups.

#### Best Practices

- **Use Variables**: Define compiler options, file names, and other recurring values as variables for easy modification.
- **Include a `clean` Target**: This allows you to easily remove all compiled files, ensuring that your next build starts from a clean state.
- **Utilize Pattern Rules**: Reduce redundancy in your Makefile by using pattern rules for similar build processes.

#### Common Make Commands

- **`make`**: By default, Make looks for a file named `Makefile` in the current directory and executes the first target found.
- **`make <target>`**: Executes a specific target defined in the Makefile.
- **`make clean`**: A common convention used to remove all files generated by the previous build.

#### Debugging Makefiles

- **`make -n`**: Prints the commands that would be executed, without actually running them.
- **`make -p`**: Prints Make's internal database, useful for debugging variable values and rule definitions.

### Npm (Node Package Manager)

npm is the world’s largest software registry and also serves as a build tool for JavaScript projects, managing dependencies and running scripts.

- **Key Features:**
    - **Package Management**: Manages node.js packages.
    - **Script Runner**: Can run custom script aliases defined in `package.json`.

```json
// Sample package.json snippet
{
  "name": "my-js-app",
  "version": "1.0.0",
  "scripts": {
    "start": "node app.js"
  }
}
```

### Best Practices for Using Build Tools

- **Understand Tool Capabilities**: Choose a tool that best fits the project requirements and complexity.
- **Keep Builds Reproducible**: Ensure that builds are deterministic and can be reproduced by other developers or build systems.
- **Manage Dependencies Wisely**: Use the dependency management features to ensure consistent builds across environments.
- **Automate the Build Process**: Integrate build tools into the development and deployment pipeline for continuous integration and delivery.